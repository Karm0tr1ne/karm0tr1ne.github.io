<!DOCTYPE html><html lang="ch"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#0078E7"><meta name="author" content="Karmotrine"><meta name="copyright" content="Karmotrine"><meta name="generator" content="Hexo 6.0.0"><meta name="theme" content="hexo-theme-yun"><title>Unity Shader04â€”â€”å¤æ‚å…‰ç…§ | Utopia</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/star-markdown-css@0.1.25/dist/yun/yun-markdown.min.css"><script src="//at.alicdn.com/t/font_1140697_dxory92pb0h.js" async></script><script src="https://cdn.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>function initScrollReveal() {
  [".post-card",".post-content img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
}
document.addEventListener("DOMContentLoaded", initScrollReveal);
document.addEventListener("pjax:success", initScrollReveal);
</script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css"><script defer src="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/contrib/copy-tex.min.css"><script defer src="https://cdn.jsdelivr.net/npm/katex@latest/dist/contrib/copy-tex.min.js"></script><script defer src="https://cdn.jsdelivr.net/npm/katex@latest/dist/contrib/auto-render.min.js"></script><script>document.addEventListener("DOMContentLoaded", () => {
  Yun.utils.renderKatex();
});</script><link class="aplayer-style-marker" rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/aplayer@latest/dist/APlayer.min.css"><script class="aplayer-script-marker" src="https://cdn.jsdelivr.net/npm/aplayer@latest/dist/APlayer.min.js" defer></script><script class="meting-script-marker" src="https://cdn.jsdelivr.net/npm/meting@1/dist/Meting.min.js" defer></script><link id="light-prism-css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@latest/themes/prism.css" media="(prefers-color-scheme: light)"><link id="dark-prism-css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@latest/themes/prism-tomorrow.css" media="(prefers-color-scheme: dark)"><link rel="icon" type="image/png" href="/favicon.ico"><link rel="mask-icon" href="/favicon.ico" color="#0078E7"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="preload" href="/js/utils.js" as="script"><link rel="preload" href="/js/hexo-theme-yun.js" as="script"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><script id="yun-config">
    const Yun = window.Yun || {};
    window.CONFIG = {"hostname":"karmotrine.fun","root":"/","title":["ã—","ã„","ãª","ã®","åš","å®¢"],"version":"1.7.0","mode":"auto","copycode":true,"page":{"isPost":true},"i18n":{"placeholder":"æœç´¢...","empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹: ${query}","hits":"æ‰¾åˆ° ${hits} æ¡ç»“æœ","hits_time":"æ‰¾åˆ° ${hits} æ¡ç»“æœï¼ˆç”¨æ—¶ ${time} æ¯«ç§’ï¼‰"},"anonymous_image":"https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/avatar/none.jpg","say":{"api":"https://v1.hitokoto.cn","hitokoto":true},"fireworks":{"colors":["102, 167, 221","62, 131, 225","33, 78, 194"]}};
  </script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/utils.js"></script><script src="/js/hexo-theme-yun.js"></script><link rel="alternate" href="/atom.xml" title="Utopia" type="application/atom+xml"><meta name="description" content="å‰è¨€è¿™ä¸ªå¹¶ä¸æ˜¯æŠ€æœ¯åˆ†äº«çš„æ•™ç¨‹ç±»åšå®¢ï¼Œåªæ˜¯æˆ‘è®°å½•çš„ç¬”è®°è€Œå·²ã€‚ä¸ï¼Œä¸è¦è¯¯ä¼šäº†ï¼ï¼ˆè™½ç„¶æºœä¸€éä¸‹æ¥å‘ç°å¥½åƒä¹Ÿèƒ½çœ‹ Unityçš„æ¸²æŸ“è·¯å¾„æ¦‚å¿µæ¸²æŸ“è·¯å¾„å†³å®šå…‰ç…§æ˜¯å¦‚ä½•åº”ç”¨åˆ°Unity Shaderé‡Œçš„ã€‚åªæœ‰ä¸ºæ¯ä¸ªPassæŒ‡å®šæ­£ç¡®çš„æ¸²æŸ“è·¯å¾„æ‰èƒ½æ­£ç¡®æ‰§è¡Œå…‰ç…§è®¡ç®—ã€‚Unityçš„æ¸²æŸ“è·¯å¾„æœ‰ä¸‰ç§ï¼šå‰å‘æ¸²æŸ“è·¯å¾„ã€å»¶è¿Ÿæ¸²æŸ“è·¯å¾„å’Œé¡¶ç‚¹ç…§æ˜æ¸²æŸ“è·¯å¾„ã€‚æ¯ä¸ªæ‘„åƒæœºå¯ä»¥é€šè¿‡ä¿®æ”¹Cameraç»„ä»¶å†…çš„Rendering Pathå†³">
<meta property="og:type" content="article">
<meta property="og:title" content="Unity Shader04â€”â€”å¤æ‚å…‰ç…§">
<meta property="og:url" content="https://karmotrine.fun/2022/01/16/Unity-Shader04%E2%80%94%E2%80%94%E5%A4%8D%E6%9D%82%E5%85%89%E7%85%A7/index.html">
<meta property="og:site_name" content="Utopia">
<meta property="og:description" content="å‰è¨€è¿™ä¸ªå¹¶ä¸æ˜¯æŠ€æœ¯åˆ†äº«çš„æ•™ç¨‹ç±»åšå®¢ï¼Œåªæ˜¯æˆ‘è®°å½•çš„ç¬”è®°è€Œå·²ã€‚ä¸ï¼Œä¸è¦è¯¯ä¼šäº†ï¼ï¼ˆè™½ç„¶æºœä¸€éä¸‹æ¥å‘ç°å¥½åƒä¹Ÿèƒ½çœ‹ Unityçš„æ¸²æŸ“è·¯å¾„æ¦‚å¿µæ¸²æŸ“è·¯å¾„å†³å®šå…‰ç…§æ˜¯å¦‚ä½•åº”ç”¨åˆ°Unity Shaderé‡Œçš„ã€‚åªæœ‰ä¸ºæ¯ä¸ªPassæŒ‡å®šæ­£ç¡®çš„æ¸²æŸ“è·¯å¾„æ‰èƒ½æ­£ç¡®æ‰§è¡Œå…‰ç…§è®¡ç®—ã€‚Unityçš„æ¸²æŸ“è·¯å¾„æœ‰ä¸‰ç§ï¼šå‰å‘æ¸²æŸ“è·¯å¾„ã€å»¶è¿Ÿæ¸²æŸ“è·¯å¾„å’Œé¡¶ç‚¹ç…§æ˜æ¸²æŸ“è·¯å¾„ã€‚æ¯ä¸ªæ‘„åƒæœºå¯ä»¥é€šè¿‡ä¿®æ”¹Cameraç»„ä»¶å†…çš„Rendering Pathå†³">
<meta property="og:locale">
<meta property="og:image" content="https://karmotrine.fun/2022/01/16/Unity-Shader04%E2%80%94%E2%80%94%E5%A4%8D%E6%9D%82%E5%85%89%E7%85%A7/%E8%A1%A8%E4%B8%80.png">
<meta property="og:image" content="https://karmotrine.fun/2022/01/16/Unity-Shader04%E2%80%94%E2%80%94%E5%A4%8D%E6%9D%82%E5%85%89%E7%85%A7/%E8%A1%A8%E4%BA%8C.png">
<meta property="og:image" content="https://karmotrine.fun/2022/01/16/Unity-Shader04%E2%80%94%E2%80%94%E5%A4%8D%E6%9D%82%E5%85%89%E7%85%A7/%E8%A1%A8%E4%B8%89.png">
<meta property="article:published_time" content="2022-01-16T09:07:41.000Z">
<meta property="article:modified_time" content="2022-01-18T04:13:48.234Z">
<meta property="article:author" content="Karmotrine">
<meta property="article:tag" content="ç¬”è®°">
<meta property="article:tag" content="Shader">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://karmotrine.fun/2022/01/16/Unity-Shader04%E2%80%94%E2%80%94%E5%A4%8D%E6%9D%82%E5%85%89%E7%85%A7/%E8%A1%A8%E4%B8%80.png"><script src="/js/ui/mode.js"></script></head><body><script defer src="https://cdn.jsdelivr.net/npm/animejs@latest"></script><script defer src="/js/ui/fireworks.js"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="æ–‡ç« ç›®å½•"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-list-ordered"></use></svg></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="ç«™ç‚¹æ¦‚è§ˆ"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-passport-line"></use></svg></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="Karmotrine"><img width="96" loading="lazy" src="https://portrait.gitee.com/uploads/avatars/user/2943/8831424_karmotrine_1616074181.png!avatar100" alt="Karmotrine"><span class="site-author-status" title="ä¸æƒ³ä¸Šå­¦">ğŸ˜­</span></a><div class="site-author-name"><a href="/about/">Karmotrine</a></div><span class="site-name">Utopia</span><sub class="site-subtitle">Kyrie eleison.</sub><div class="site-desciption"></div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="é¦–é¡µ"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-home-4-line"></use></svg></span></a><div class="site-state-item"><a href="/archives/" title="å½’æ¡£"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-archive-line"></use></svg></span><span class="site-state-item-count">11</span></a></div><div class="site-state-item"><a href="/categories/" title="åˆ†ç±»"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-2-line"></use></svg></span><span class="site-state-item-count">2</span></a></div><div class="site-state-item"><a href="/tags/" title="æ ‡ç­¾"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="site-state-item-count">4</span></a></div><a class="site-state-item hty-icon-button" target="_blank" rel="noopener" href="https://yun.yunyoujun.cn" title="æ–‡æ¡£"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-settings-line"></use></svg></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://wpa.qq.com/msgrd?v=3&amp;uin=657493712&amp;site=qq&amp;menu=yes" title="QQ" target="_blank" style="color:#12B7F5"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-qq-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://github.com/karm0tr1ne" title="GitHub" target="_blank" style="color:#181717"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-github-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="mailto:657493712@qq.com" title="E-Mail" target="_blank" style="color:#8E71C1"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-mail-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://www.douban.com/people/191503773/" title="è±†ç“£" target="_blank" style="color:#007722"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-douban-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://music.163.com/#/user/home?id=1376395329" title="ç½‘æ˜“äº‘éŸ³ä¹" target="_blank" style="color:#C10D0C"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-netease-cloud-music-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://www.zhihu.com/people/karmotrine-32" title="çŸ¥ä¹" target="_blank" style="color:#0084FF"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-zhihu-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://space.bilibili.com/85367843" title="å“”å“©å“”å“©åŠ¨ç”»" target="_blank" style="color:#FF8EB3"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-bilibili-line"></use></svg></a></div><hr style="margin:0.5rem 1rem"><div class="links"><a class="links-item hty-icon-button" href="/links/" title="æˆ‘çš„å°ä¼™ä¼´ä»¬" style="color:dodgerblue"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-genderless-line"></use></svg></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-contrast-2-line"></use></svg></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-number">1.</span> <span class="toc-text">å‰è¨€</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Unity%E7%9A%84%E6%B8%B2%E6%9F%93%E8%B7%AF%E5%BE%84"><span class="toc-number">2.</span> <span class="toc-text">Unityçš„æ¸²æŸ“è·¯å¾„</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A6%82%E5%BF%B5"><span class="toc-number">2.1.</span> <span class="toc-text">æ¦‚å¿µ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%89%8D%E5%90%91%E6%B8%B2%E6%9F%93%E8%B7%AF%E5%BE%84"><span class="toc-number">2.2.</span> <span class="toc-text">å‰å‘æ¸²æŸ“è·¯å¾„</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A1%B6%E7%82%B9%E7%85%A7%E6%98%8E%E6%B8%B2%E6%9F%93%E8%B7%AF%E5%BE%84"><span class="toc-number">2.3.</span> <span class="toc-text">é¡¶ç‚¹ç…§æ˜æ¸²æŸ“è·¯å¾„</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BB%B6%E8%BF%9F%E6%B8%B2%E6%9F%93%E8%B7%AF%E5%BE%84"><span class="toc-number">2.4.</span> <span class="toc-text">å»¶è¿Ÿæ¸²æŸ“è·¯å¾„</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Unity%E7%9A%84%E5%85%89%E6%BA%90%E7%B1%BB%E5%9E%8B%E4%B8%8E%E5%AE%9E%E8%B7%B5"><span class="toc-number">3.</span> <span class="toc-text">Unityçš„å…‰æºç±»å‹ä¸å®è·µ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B9%B3%E8%A1%8C%E5%85%89"><span class="toc-number">3.1.</span> <span class="toc-text">å¹³è¡Œå…‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%82%B9%E5%85%89%E6%BA%90"><span class="toc-number">3.2.</span> <span class="toc-text">ç‚¹å…‰æº</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%81%9A%E5%85%89%E7%81%AF"><span class="toc-number">3.3.</span> <span class="toc-text">èšå…‰ç¯</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%89%8D%E5%90%91%E6%B8%B2%E6%9F%93%E8%B7%AF%E5%BE%84%E5%AE%9E%E8%B7%B5"><span class="toc-number">3.4.</span> <span class="toc-text">å‰å‘æ¸²æŸ“è·¯å¾„å®è·µ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%89%E7%BA%BF%E8%A1%B0%E5%87%8F%E7%BA%B9%E7%90%86%E9%87%87%E6%A0%B7%E5%8E%9F%E5%9B%A0"><span class="toc-number">3.5.</span> <span class="toc-text">å…‰çº¿è¡°å‡çº¹ç†é‡‡æ ·åŸå› </span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Unity%E7%9A%84%E9%98%B4%E5%BD%B1%E4%B8%8E%E5%AE%9E%E8%B7%B5"><span class="toc-number">4.</span> <span class="toc-text">Unityçš„é˜´å½±ä¸å®è·µ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8D%E9%80%8F%E6%98%8E%E7%89%A9%E4%BD%93%E7%9A%84%E9%98%B4%E5%BD%B1%E5%AE%9E%E8%B7%B5"><span class="toc-number">4.1.</span> <span class="toc-text">ä¸é€æ˜ç‰©ä½“çš„é˜´å½±å®è·µ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%A9%E7%89%A9%E4%BD%93%E6%8A%95%E5%B0%84%E9%98%B4%E5%BD%B1"><span class="toc-number">4.1.1.</span> <span class="toc-text">è®©ç‰©ä½“æŠ•å°„é˜´å½±</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%A9%E7%89%A9%E4%BD%93%E6%8E%A5%E6%94%B6%E9%98%B4%E5%BD%B1"><span class="toc-number">4.1.2.</span> <span class="toc-text">è®©ç‰©ä½“æ¥æ”¶é˜´å½±</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%9F%E4%B8%80%E7%AE%A1%E7%90%86%E5%85%89%E7%85%A7%E8%A1%B0%E5%87%8F%E5%92%8C%E9%98%B4%E5%BD%B1"><span class="toc-number">4.2.</span> <span class="toc-text">ç»Ÿä¸€ç®¡ç†å…‰ç…§è¡°å‡å’Œé˜´å½±</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%8F%E6%98%8E%E5%BA%A6%E7%89%A9%E4%BD%93%E7%9A%84%E9%98%B4%E5%BD%B1"><span class="toc-number">4.3.</span> <span class="toc-text">é€æ˜åº¦ç‰©ä½“çš„é˜´å½±</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%8F%E6%98%8E%E5%BA%A6%E6%B5%8B%E8%AF%95%E5%AE%9E%E8%B7%B5"><span class="toc-number">4.3.1.</span> <span class="toc-text">é€æ˜åº¦æµ‹è¯•å®è·µ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%8F%E6%98%8E%E5%BA%A6%E6%B7%B7%E5%90%88%E5%AE%9E%E8%B7%B5"><span class="toc-number">4.3.2.</span> <span class="toc-text">é€æ˜åº¦æ··åˆå®è·µ</span></a></li></ol></li></ol></li></ol></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article"><link itemprop="mainEntityOfPage" href="https://karmotrine.fun/2022/01/16/Unity-Shader04%E2%80%94%E2%80%94%E5%A4%8D%E6%9D%82%E5%85%89%E7%85%A7/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="Karmotrine"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="Utopia"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">Unity Shader04â€”â€”å¤æ‚å…‰ç…§</h1><div class="post-meta"><div class="post-time" style="display:block"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-line"></use></svg></span> <time title="åˆ›å»ºæ—¶é—´ï¼š2022-01-16 17:07:41" itemprop="dateCreated datePublished" datetime="2022-01-16T17:07:41+08:00">2022-01-16</time><span class="post-meta-divider">-</span><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-2-line"></use></svg></span> <time title="ä¿®æ”¹æ—¶é—´ï¼š2022-01-18 12:13:48" itemprop="dateModified" datetime="2022-01-18T12:13:48+08:00">2022-01-18</time></div><span class="post-count"><span class="post-symbolcount"><span class="post-meta-item-icon" title="æœ¬æ–‡å­—æ•°"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-file-word-line"></use></svg></span> <span title="æœ¬æ–‡å­—æ•°">5.7k</span><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="é˜…è¯»æ—¶é•¿"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-timer-line"></use></svg></span> <span title="é˜…è¯»æ—¶é•¿">25m</span></span></span><div class="post-classify"><span class="post-category"> <span class="post-meta-item-icon" style="margin-right:3px;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-line"></use></svg></span><span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category-item" href="/categories/Shader/" style="--text-color:var(--hty-text-color)" itemprop="url" rel="index"><span itemprop="text">Shader</span></a></span></span><span class="post-tag"><span class="post-meta-divider">-</span><a class="tag-item" href="/tags/%E7%AC%94%E8%AE%B0/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">ç¬”è®°</span></a><a class="tag-item" href="/tags/Shader/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">Shader</span></a></span></div><div class="post-author"><div class="author-avatar"><img src="https://www.gravatar.com/avatar/6c9385ec68c559cae4e1d7a3e3b483c0?s=20&amp;d=https%3A%2F%2Fcdn.jsdelivr.net%2Fgh%2FYunYouJun%2Fcdn%2Fimg%2Favatar%2Fnone.jpg"></div><span class="author-name">Karmotrine.</span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body" style="--smc-primary:#0078E7;"><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=1903397110&auto=1&height=66"></iframe>

<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=1903397110&auto=1&height=66"></iframe>

<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>è¿™ä¸ªå¹¶ä¸æ˜¯æŠ€æœ¯åˆ†äº«çš„æ•™ç¨‹ç±»åšå®¢ï¼Œåªæ˜¯æˆ‘è®°å½•çš„ç¬”è®°è€Œå·²ã€‚ä¸ï¼Œä¸è¦è¯¯ä¼šäº†ï¼<del>ï¼ˆè™½ç„¶æºœä¸€éä¸‹æ¥å‘ç°å¥½åƒä¹Ÿèƒ½çœ‹</del></p>
<h2 id="Unityçš„æ¸²æŸ“è·¯å¾„"><a href="#Unityçš„æ¸²æŸ“è·¯å¾„" class="headerlink" title="Unityçš„æ¸²æŸ“è·¯å¾„"></a>Unityçš„æ¸²æŸ“è·¯å¾„</h2><h3 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h3><p><strong>æ¸²æŸ“è·¯å¾„</strong>å†³å®šå…‰ç…§æ˜¯å¦‚ä½•åº”ç”¨åˆ°Unity Shaderé‡Œçš„ã€‚åªæœ‰ä¸ºæ¯ä¸ªPassæŒ‡å®šæ­£ç¡®çš„æ¸²æŸ“è·¯å¾„æ‰èƒ½æ­£ç¡®æ‰§è¡Œå…‰ç…§è®¡ç®—ã€‚Unityçš„æ¸²æŸ“è·¯å¾„æœ‰ä¸‰ç§ï¼šå‰å‘æ¸²æŸ“è·¯å¾„ã€å»¶è¿Ÿæ¸²æŸ“è·¯å¾„å’Œé¡¶ç‚¹ç…§æ˜æ¸²æŸ“è·¯å¾„ã€‚æ¯ä¸ªæ‘„åƒæœºå¯ä»¥é€šè¿‡ä¿®æ”¹Cameraç»„ä»¶å†…çš„Rendering Pathå†³å®šè¯¥æ‘„åƒæœºå¯¹å…‰ç…§çš„æ¸²æŸ“è·¯å¾„ã€‚å¦‚æœæ²¡æœ‰è®¾ç½®ï¼Œæ‘„åƒæœºä¼šéµä»Unityè®¾ç½®çš„æ¸²æŸ“è·¯å¾„ï¼ˆå³å‰å‘æ¸²æŸ“è·¯å¾„ï¼‰ã€‚</p>
<p>Passå†…éƒ¨é€šè¿‡æ ‡ç­¾ï¼ˆ<code>Tags &#123;&quot;LightMode&quot;=&quot;ForwardBase&quot;&#125;</code>ï¼‰å†³å®šä½¿ç”¨çš„æ¸²æŸ“è·¯å¾„ã€‚ï¼ˆæ¯”å¦‚â€œForwardBaseâ€ã€â€œFowardAddâ€å°±æ˜¯å‰å‘æ¸²æŸ“è·¯å¾„ï¼‰æ‰€æœ‰æ ‡ç­¾å¦‚ä¸‹ï¼š</p>
<p><img src="%E8%A1%A8%E4%B8%80.png" alt="è¡¨ä¸€" loading="lazy"></p>
<h3 id="å‰å‘æ¸²æŸ“è·¯å¾„"><a href="#å‰å‘æ¸²æŸ“è·¯å¾„" class="headerlink" title="å‰å‘æ¸²æŸ“è·¯å¾„"></a>å‰å‘æ¸²æŸ“è·¯å¾„</h3><p>ä¼ ç»Ÿã€å¸¸ç”¨çš„æ¸²æŸ“è·¯å¾„ã€‚é¦–å…ˆåˆ©ç”¨æ·±åº¦ç¼“å†²æ¥å†³å®šä¸€ä¸ªç‰‡å…ƒæ˜¯å¦å¯è§ï¼Œå¦‚æœå¯è§å°±æ›´æ–°é¢œè‰²ç¼“å†²åŒºçš„é¢œè‰²å€¼ï¼Œç„¶åå†éå†è¯¥æ¨¡å‹çš„ä¸‹ä¸€ä¸ªç‰‡å…ƒã€‚å½“ç„¶è®¡ç®—ç»“æœä»…ä»…æ˜¯ä¸€ä¸ªå…‰æºçš„å½±å“ç»“æœï¼Œå¦‚æœæœ‰å¤šä¸ªå…‰æºåˆ™è¦å†æ¬¡é‡å¤ä¸Šè¿°æ­¥éª¤ã€‚å› æ­¤ï¼Œå‡è®¾åœºæ™¯æœ‰Nä¸ªç‰©ä½“ï¼Œæ¯ä¸ªç‰©ä½“å—Mä¸ªå…‰ç…§å½±å“ï¼Œæ¸²æŸ“æ•´ä¸ªåœºæ™¯å°±éœ€è¦N*Mä¸ªPassã€‚ï¼ˆç„¶åæ¯ä¸ªPassåˆè¦æ¸²æŸ“è¯¥ç‰©ä½“çš„æ‰€æœ‰ç‰‡å…ƒï¼‰ã€‚æ‰€ä»¥å¦‚æœæœ‰å¤§é‡é€åƒç´ å…‰ç…§ï¼Œéœ€è¦æ‰§è¡Œçš„æ•°ç›®ä¹Ÿä¼šå¾ˆå¤šã€‚</p>
<p>å¯¹æ­¤ï¼ŒUnityä¸­çš„å‰å‘æ¸²æŸ“è·¯å¾„æœ‰3ç§ï¼šé€é¡¶ç‚¹å¤„ç†ã€é€åƒç´ å¤„ç†ã€çƒè°å‡½æ•°ã€‚æˆ‘ä»¬å¯ä»¥åœ¨Lightç»„ä»¶çš„Render Modeè°ƒæ•´å¤„ç†æ–¹å¼ï¼š</p>
<p>1.è®¾ç½®æˆNot Importantä»¥é€é¡¶ç‚¹æˆ–çƒè°å‡½æ•°å¤„ç†ï¼›</p>
<p>2.è®¾ç½®æˆImportantçš„å’Œåœºæ™¯ä¸­æœ€äº®çš„å¹³è¡Œå…‰æŒ‰é€åƒç´ å¤„ç†ï¼›</p>
<p>3.ä¸Šè¿°è§„åˆ™å¾—åˆ°çš„é€åƒç´ å…‰æºæ•°é‡å°äºQuality Settingsçš„æ•°é‡ï¼Œä¼šæœ‰æ›´å¤šå…‰æºä»¥é€åƒç´ çš„æ–¹å¼æ¸²æŸ“ã€‚</p>
<p>å‰å‘æ¸²æŸ“åˆæœ‰ä¸¤ç§Passï¼š<strong>Base Pass</strong>å’Œ<strong>Additional Pass</strong>ã€‚</p>
<p><strong>Base Pass</strong>ï¼šè®¡ç®—ä¸€ä¸ªé€åƒç´ çš„å¹³è¡Œå…‰ä»¥åŠæ‰€æœ‰é€é¡¶ç‚¹å’ŒSHå…‰æºï¼Œå¯ä»¥å®ç°å…‰ç…§çº¹ç†ã€ç¯å¢ƒå…‰ã€è‡ªå‘å…‰å’Œå¹³è¡Œå…‰çš„é˜´å½±ï¼›ä¸€ä¸ªBase Passåªä¼šè°ƒç”¨ä¸€æ¬¡ã€‚</p>
<p><strong>Additional Pass</strong>ï¼šè®¡ç®—å…¶å®ƒå½±å“è¯¥ç‰©ä½“çš„é€åƒç´ å…‰æºï¼ˆæ¯ä¸ªå…‰æºæ‰§è¡Œä¸€æ¬¡Passï¼‰ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¸æ”¯æŒé˜´å½±ï¼›æ¯ä¸ªé€åƒç´ å…‰æºä¼šæ‰§è¡Œä¸€æ¬¡Additional Passã€‚</p>
<p>å¯¹äºå‰å‘æ¸²æŸ“æ¥è¯´ï¼Œä¸€ä¸ªUnity Shaderé€šå¸¸ä¼šå®šä¹‰ä¸€ä¸ªBase Passå’Œä¸€ä¸ªAdditional Passã€‚</p>
<p>å‰å‘æ¸²æŸ“å¯ä»¥ä½¿ç”¨çš„å†…ç½®å…‰ç…§å˜é‡ä¸ºï¼š</p>
<p><img src="%E8%A1%A8%E4%BA%8C.png" alt="è¡¨äºŒ" loading="lazy"></p>
<p>å‰å‘æ¸²æŸ“å¯ä»¥ä½¿ç”¨çš„å†…ç½®å…‰ç…§å‡½æ•°ä¸ºï¼š</p>
<p><img src="%E8%A1%A8%E4%B8%89.png" alt="è¡¨ä¸‰" loading="lazy"></p>
<h3 id="é¡¶ç‚¹ç…§æ˜æ¸²æŸ“è·¯å¾„"><a href="#é¡¶ç‚¹ç…§æ˜æ¸²æŸ“è·¯å¾„" class="headerlink" title="é¡¶ç‚¹ç…§æ˜æ¸²æŸ“è·¯å¾„"></a>é¡¶ç‚¹ç…§æ˜æ¸²æŸ“è·¯å¾„</h3><p>ä»¥é€é¡¶ç‚¹çš„æ–¹å¼æ¥è®¡ç®—å…‰ç…§ã€‚å› ä¸ºå‰é¢çš„å‰å‘æ¸²æŸ“è·¯å¾„ä¹Ÿå¯ä»¥è®¡ç®—è¿™ä¸ªï¼Œæ‰€ä»¥ä¸æ˜¯å¾ˆæœ‰ç”¨ã€‚</p>
<h3 id="å»¶è¿Ÿæ¸²æŸ“è·¯å¾„"><a href="#å»¶è¿Ÿæ¸²æŸ“è·¯å¾„" class="headerlink" title="å»¶è¿Ÿæ¸²æŸ“è·¯å¾„"></a>å»¶è¿Ÿæ¸²æŸ“è·¯å¾„</h3><p>æ˜¯ä¸€ç§æ›´ä¸ºå¤è€çš„æ¸²æŸ“æ–¹æ³•ã€‚å®ƒä¹Ÿæ˜¯ä¸¤ä¸ªPassã€‚ç¬¬ä¸€ä¸ªPassä¸è¿›è¡Œä»»ä½•å…‰ç…§è®¡ç®—ï¼Œåªæ˜¯è®¡ç®—é‚£äº›ç‰‡å…ƒæ˜¯å¯è§çš„ï¼Œå¦‚æœå¯è§å°±æŠŠç›¸å…³ä¿¡æ¯å­˜å‚¨åˆ°Gç¼“å†²åŒºä¸­ã€‚åœ¨ç¬¬ä¸€ä¸ªPassæ‰§è¡Œå®Œæ¯•åè¿›è¡Œç¬¬äºŒä¸ªPassï¼Œåˆ©ç”¨Gç¼“å†²åŒºçš„å„ä¸ªç‰‡å…ƒä¿¡æ¯è¿›è¡ŒçœŸæ­£çš„å…‰ç…§è®¡ç®—ã€‚å¦‚æœè¯´<strong>å‰å‘æ¸²æŸ“è·¯å¾„</strong>æ˜¯ä¸€è®¡ç®—å¯è§å°±è¿›è¡Œå…‰ç…§è®¡ç®—ï¼Œ<strong>å»¶è¿Ÿæ¸²æŸ“è·¯å¾„</strong>å°±æ˜¯è®¡ç®—å¯è§å…ˆå­˜å‚¨åˆ°ç¼“å†²åŒºä¸­ï¼Œæœ€åç»Ÿä¸€è¿›è¡Œå…‰ç…§è®¡ç®—ã€‚</p>
<p>ç»¼ä¸Šå¯å¾—ï¼Œå»¶è¿Ÿæ¸²æŸ“å°±2ä¸ªPassï¼Œä¸åœºæ™¯ä¸­åŒ…å«çš„å…‰æºæ•°ç›®æ²¡æœ‰å…³ç³»ï¼Œå¯ä»¥å¾ˆå¥½çš„è§£å†³<strong>å‰å‘æ¸²æŸ“è·¯å¾„</strong>ä¸­åŒ…å«å¤§é‡å®æ—¶å…‰æºæ—¶æ€§èƒ½ä¸‹é™çš„é—®é¢˜ã€‚è€Œä¸”å»¶è¿Ÿæ¸²æŸ“è·¯å¾„ä¸­æ¯ä¸ªå…‰æºéƒ½å¯ä»¥æŒ‰é€åƒç´ çš„æ–¹å¼å¤„ç†ã€‚ä½†æ˜¯ï¼Œå®ƒä¹Ÿæœ‰ç€ç¼ºç‚¹ï¼š</p>
<p>1.ä¸æ”¯æŒçœŸæ­£çš„æŠ—é”¯é½¿åŠŸèƒ½ï¼›</p>
<p>2.æ— æ³•å¤„ç†åŠé€æ˜ç‰©ä½“ï¼›</p>
<p>3.æ˜¾å¡è¦æ”¯æŒMRTç­‰è¦æ±‚ã€‚</p>
<p><strong>å»¶è¿Ÿæ¸²æŸ“è·¯å¾„</strong>å¯è®¿é—®çš„å†…ç½®å˜é‡å’Œå‡½æ•°ï¼š</p>
<p><strong>_LightColor</strong>ï¼šå…‰æºé¢œè‰²ï¼ˆfloat4ï¼‰</p>
<p><strong>_LightMatrix0</strong>ï¼šä»ä¸–ç•Œç©ºé—´åˆ°å…‰æºç©ºé—´çš„å˜æ¢çŸ©é˜µï¼ˆfloat4x4ï¼‰</p>
<h2 id="Unityçš„å…‰æºç±»å‹ä¸å®è·µ"><a href="#Unityçš„å…‰æºç±»å‹ä¸å®è·µ" class="headerlink" title="Unityçš„å…‰æºç±»å‹ä¸å®è·µ"></a>Unityçš„å…‰æºç±»å‹ä¸å®è·µ</h2><p>å…‰æºå±æ€§æœ‰5ä¸ªï¼š<strong>ä½ç½®</strong>ã€<strong>æ–¹å‘</strong>ã€<strong>é¢œè‰²</strong>ã€<strong>å¼ºåº¦</strong>å’Œ<strong>è¡°å‡</strong></p>
<p>å…‰æºç±»å‹æœ‰å››ä¸ªï¼ˆé¢å…‰æºæš‚ä¸ä»‹ç»ï¼‰ï¼š</p>
<h3 id="å¹³è¡Œå…‰"><a href="#å¹³è¡Œå…‰" class="headerlink" title="å¹³è¡Œå…‰"></a>å¹³è¡Œå…‰</h3><p>ä½œä¸ºå¤ªé˜³è¿™ç§è§’è‰²åœ¨åœºæ™¯ä¸­å‡ºç°ï¼Œå¯ä»¥ç…§äº®çš„èŒƒå›´æ²¡æœ‰é™åˆ¶ï¼ˆæ‰€ä»¥å—¯è°ƒä½ç½®ä¸€ç‚¹ç”¨æ²¡æœ‰ï¼‰ï¼Œä¹Ÿæ²¡æœ‰è¡°å‡ï¼ˆå…‰ç…§å¼ºåº¦ä¸ä¼šéšè·ç¦»å‘ç”Ÿæ”¹å˜ï¼‰</p>
<h3 id="ç‚¹å…‰æº"><a href="#ç‚¹å…‰æº" class="headerlink" title="ç‚¹å…‰æº"></a>ç‚¹å…‰æº</h3><p>ç…§äº®ç©ºé—´æ—¶ä»¥å…‰æºä¸ºåœ†å¿ƒçš„ä¸€ä¸ªçƒä½“ï¼Œå…‰å‘æ‰€æœ‰æ–¹å‘å»¶ä¼¸ã€‚çƒä½“çš„åŠå¾„å¯ä»¥é€šè¿‡Rangeå±æ€§è°ƒæ•´ï¼Œå…‰æºé¢œè‰²å’Œå¼ºåº¦å¯ä»¥åœ¨Lightç»„ä»¶å†…è°ƒæ•´ã€‚å­˜åœ¨è¡°å‡ï¼Œçƒå¿ƒå¤„å…‰ç…§å¼ºåº¦æœ€å¼ºï¼Œè¾¹ç•Œæœ€å¼±ï¼Œå€¼ä¸º0.</p>
<h3 id="èšå…‰ç¯"><a href="#èšå…‰ç¯" class="headerlink" title="èšå…‰ç¯"></a>èšå…‰ç¯</h3><p>ç…§äº®ç©ºé—´æ—¶ä»¥å…‰æºä¸ºåœ†é”¥ä½“æœ€é¡¶ç«¯ï¼ˆå³å°–ç«¯ï¼‰ï¼Œå‘ä¸‹æŠ•å°„å‡ºçš„åœ†é”¥ä½“ï¼Œå…‰å‘ç‰¹å®šæ–¹å‘å»¶ä¼¸ã€‚é”¥å½¢åŒºåŸŸåŠå¾„ç”±Rangeå±æ€§å†³å®šï¼Œå¼ å¼€è§’åº¦ç”±Spot Angleå±æ€§å†³å®šã€‚å­˜åœ¨è¡°å‡ï¼Œé”¥å½¢é¡¶ç‚¹å¤„å…‰ç…§å¼ºåº¦æœ€å¼ºï¼Œè¾¹ç•Œå¤„å¼ºåº¦ä¸º0.</p>
<h3 id="å‰å‘æ¸²æŸ“è·¯å¾„å®è·µ"><a href="#å‰å‘æ¸²æŸ“è·¯å¾„å®è·µ" class="headerlink" title="å‰å‘æ¸²æŸ“è·¯å¾„å®è·µ"></a>å‰å‘æ¸²æŸ“è·¯å¾„å®è·µ</h3><pre class="language-Shader" data-language="Shader"><code class="language-Shader">Shader &quot;Custom&#x2F;ForwardRendering&quot;
&#123;
    Properties
    &#123;
        _Diffuse (&quot;Diffuse&quot;,Color)&#x3D;(1,1,1,1)
        _Specular (&quot;Specular&quot;,Color)&#x3D;(1,1,1,1)
        _Gloss (&quot;Gloss&quot;, Range(8.0,256))&#x3D;20
        _Atten (&quot;Atten&quot;,Range(0,256))&#x3D;1.0
    &#125;
    SubShader
    &#123;
        Tags &#123; &quot;RenderType&quot;&#x3D;&quot;Opaque&quot; &#125;
        &#x2F;&#x2F;Base Pass
        Pass&#123;
            Tags &#123;&quot;LightMode&quot;&#x3D;&quot;ForwardBase&quot;&#125;
            &#x2F;&#x2F;è®¾ç½®Base Pass
            CGPROGRAM

            #pragma multi_compile_fwdbase
            &#x2F;&#x2F;ä½¿ç”¨è¯¥æŒ‡ä»¤å¯ä»¥ä¿è¯æˆ‘ä»¬ä½¿ç”¨å…‰ç…§è¡°å‡ç­‰å…‰ç…§å˜é‡å¯ä»¥è¢«æ­£ç¡®èµ‹å€¼ï¼ˆå’ŒTagä¸€æ ·ä¸€å®šè¦å†™ï¼‰ã€‚
            #pragma vertex vert
            #pragma fragment frag

            #include &quot;Lighting.cginc&quot;

            fixed4 _Diffuse;
            fixed4 _Specular;
            float _Gloss;
            fixed _Atten;
            &#x2F;&#x2F;è¡°å‡å€¼

            struct a2v
            &#123;
                float4 vertex:POSITION;
                float3 normal:NORMAL;
            &#125;;

            struct v2f
            &#123;
                float4 pos:SV_POSITION;
                float3 worldNormal:TEXCOORD0;
                float3 worldPos:TEXCOORD1;
            &#125;;

            v2f vert(a2v v)
            &#123;
                v2f o;
                o.pos&#x3D;UnityObjectToClipPos(v.vertex);
                o.worldNormal &#x3D; UnityObjectToWorldNormal(v.normal);
                o.worldPos&#x3D;mul(unity_ObjectToWorld,v.vertex).xyz;
                return o;
            &#125;

            fixed4 frag(v2f i):SV_Target&#123;
                fixed3 ambient&#x3D;UNITY_LIGHTMODEL_AMBIENT.xyz;
                &#x2F;&#x2F;å¦‚ä¸Šæ–‡ï¼Œç¯å¢ƒå…‰åªéœ€è®¡ç®—ä¸€æ¬¡ï¼Œæ‰€ä»¥åé¢çš„Additional Passå°±ä¸ä¼šè®¡ç®—
                fixed3 worldNormal&#x3D;normalize(i.worldNormal);
                fixed3 worldLightDir&#x3D;normalize(_WorldSpaceLightPos0.xyz);
                fixed3 diffuse&#x3D;_LightColor0.rgb*_Diffuse.rgb*saturate(dot(worldNormal,worldLightDir));
                fixed3 viewDir&#x3D;normalize(_WorldSpaceCameraPos.xyz-i.worldPos.xyz);
                fixed3 halfDir&#x3D;normalize(worldLightDir+viewDir);
                fixed3 specular&#x3D;_LightColor0.rgb*_Specular.rgb*pow(max(0,dot(worldNormal,halfDir)),_Gloss);
                return fixed4(ambient+(diffuse+specular)*_Atten,1.0);
            &#125;
            ENDCG
            &#125;
        Pass&#123;
            Tags &#123;&quot;LightMode&quot;&#x3D;&quot;ForwardAdd&quot;&#125;
            &#x2F;&#x2F;Additional Passçš„æ ‡ç­¾
            Blend One One
            &#x2F;&#x2F;å°†è¯¥Passå…‰ç…§è®¡ç®—ç»“æœå’ŒBase Passç»“æœæ··åˆ
            &#x2F;&#x2F;å¦‚æœæ²¡æœ‰Blendå‘½ä»¤ï¼ŒAdditional Passä¼šæŠŠBase Passç›´æ¥è¦†ç›–
            CGPROGRAM
            #pragma multi_compile_fwdadd
            #pragma vertex vert
            #pragma fragment frag

            #include &quot;Lighting.cginc&quot;
            #include &quot;AutoLight.cginc&quot;

            fixed4 _Diffuse;
            fixed4 _Specular;
            float _Gloss;
            fixed _Atten;

            struct a2v
            &#123;
                float4 vertex:POSITION;
                float3 normal:NORMAL;
            &#125;;

            struct v2f
            &#123;
                float4 pos:SV_POSITION;
                float3 worldNormal:TEXCOORD0;
                float3 worldPos:TEXCOORD1;
            &#125;;

            v2f vert(a2v v)
            &#123;
                v2f o;
                o.pos&#x3D;UnityObjectToClipPos(v.vertex);
                o.worldNormal &#x3D; UnityObjectToWorldNormal(v.normal);
                o.worldPos&#x3D;mul(unity_ObjectToWorld,v.vertex).xyz;
                return o;
            &#125;

            fixed4 frag(v2f i):SV_Target&#123;
                fixed3 worldNormal&#x3D;normalize(i.worldNormal);
                #ifdef USING_DIRECTIONAL_LIGHT
                &#x2F;&#x2F;å¦‚æœå¤„ç†çš„å…‰ç…§ç±»å‹æ˜¯å¹³è¡Œå…‰
                    fixed3 worldLightDir &#x3D; normalize(_WorldSpaceLightPos0.xyz);
                    &#x2F;&#x2F;å°±ç›´æ¥æ˜¯
                #else
                    fixed3 worldLightDir &#x3D; normalize(_WorldSpaceLightPos0.xyz - i.worldPos.xyz);
                    &#x2F;&#x2F;ä¸ç„¶å°±è¦ç”¨è¿™ä¸ªä½ç½®å‡å»ä¸–ç•Œç©ºé—´ä¸‹çš„é¡¶ç‚¹ä½ç½®
                #endif
                fixed3 diffuse&#x3D;_LightColor0.rgb*_Diffuse.rgb*saturate(dot(worldNormal,worldLightDir));
                fixed3 viewDir&#x3D;normalize(_WorldSpaceCameraPos.xyz-i.worldPos.xyz);
                fixed3 halfDir&#x3D;normalize(worldLightDir+viewDir);
                fixed3 specular&#x3D;_LightColor0.rgb*_Specular.rgb*pow(max(0,dot(worldNormal,halfDir)),_Gloss);
                #ifdef USING_DIRECTIONAL_LIGHT
                    fixed atten &#x3D; 1.0;
                #else
                    #if defined (POINT)
                        float3 lightCoord &#x3D; mul(unity_WorldToLight, float4(i.worldPos, 1)).xyz;
                        fixed atten &#x3D; tex2D(_LightTexture0, dot(lightCoord, lightCoord).rr).UNITY_ATTEN_CHANNEL;
                        &#x2F;&#x2F;é‡‡æ ·åŸå› å¦‚ä¸‹
                    #elif defined (SPOT)
                        float4 lightCoord &#x3D; mul(unity_WorldToLight, float4(i.worldPos, 1));
                        fixed atten &#x3D; (lightCoord.z &gt; 0) * tex2D(_LightTexture0, lightCoord.xy &#x2F; lightCoord.w + 0.5).w * tex2D(_LightTextureB0, dot(lightCoord, lightCoord).rr).UNITY_ATTEN_CHANNEL;
                    #else
                        fixed atten &#x3D; 1.0;
                    #endif
                #endif
                return fixed4((diffuse+specular)*_Atten,1.0);
            &#125;
            ENDCG
            &#125;
    &#125;
    FallBack &quot;Specular&quot;
&#125;</code></pre>

<h3 id="å…‰çº¿è¡°å‡çº¹ç†é‡‡æ ·åŸå› "><a href="#å…‰çº¿è¡°å‡çº¹ç†é‡‡æ ·åŸå› " class="headerlink" title="å…‰çº¿è¡°å‡çº¹ç†é‡‡æ ·åŸå› "></a>å…‰çº¿è¡°å‡çº¹ç†é‡‡æ ·åŸå› </h3><p>å…‰çº¿è¡°å‡çš„è®¡ç®—å¾€å¾€æ¶‰åŠå¼€æ ¹å·ã€é™¤æ³•ç­‰è®¡ç®—é‡ç›¸å¯¹è¾ƒå¤§çš„æ“ä½œã€‚å› æ­¤Unityé€‰æ‹©äº†ä½¿ç”¨ä¸€å¼ çº¹ç†ä½œä¸ºæŸ¥æ‰¾è¡¨ä»¥åœ¨ç‰‡å…ƒç€è‰²å™¨ä¸­å¾—åˆ°å…‰æºçš„è¡°å‡ã€‚çº¹ç†åç§°ä¸º**_LightTexture0**ï¼Œåæ ‡(0,0)æ˜¯ä¸å…‰æºä½ç½®é‡åˆçš„ç‚¹ï¼Œ(1,1)æ˜¯å’Œå…‰æºè·ç¦»æœ€è¿œçš„ã€‚</p>
<p>ä¸ºäº†å¾—åˆ°çº¹ç†å®šç‚¹çš„ç›¸å…³æ•°å€¼ï¼Œæˆ‘ä»¬è¦å¾—åˆ°è¯¥ç‚¹åœ¨å…‰æºç©ºé—´çš„ä½ç½®ï¼š</p>
<p><code>float3 lightCoord = mul(unity_WorldToLight, float4(i.worldPos, 1)).xyz;</code></p>
<p>å°†ä¸–ç•Œç©ºé—´çš„é¡¶ç‚¹åæ ‡å’Œè½¬æ¢çŸ©é˜µç›¸ä¹˜å¾—åˆ°</p>
<p><code>fixed atten = tex2D(_LightTexture0, dot(lightCoord, lightCoord).rr).UNITY_ATTEN_CHANNEL;</code></p>
<p>è¿™é‡Œå°†å…‰æºç©ºé—´çš„é¡¶ç‚¹è·ç¦»çš„å¹³æ–¹è¿›è¡Œé‡‡æ ·ï¼ˆæ²¡æœ‰ä½¿ç”¨è·ç¦»å€¼æ˜¯å› ä¸ºå¯ä»¥é¿å…å¼€æ–¹æ“ä½œï¼‰ã€‚ç„¶åä½¿ç”¨å®<strong>UNITY_ATTEN_CHANNEL</strong>å¾—åˆ°è¡°å‡çº¹ç†ä¸­è¡°å‡å€¼æ‰€åœ¨åˆ†é‡ï¼Œä»¥å¾—åˆ°æœ€ç»ˆè¡°å‡å€¼ã€‚</p>
<p>ä¹Ÿå¯ä»¥ä½¿ç”¨å…¬å¼è‡ªè¡Œè®¡ç®—å…‰æºè¡°å‡ï¼Œæ¯”å¦‚ï¼ˆè¿™æ˜¯çº¿æ€§è¡°å‡ï¼‰ï¼š</p>
<p><code>float distance=length(_WorldSpaceLightPos0.xyz-i.worldPosition.xyz);</code></p>
<p><code>atten=1.0/distance;</code></p>
<h2 id="Unityçš„é˜´å½±ä¸å®è·µ"><a href="#Unityçš„é˜´å½±ä¸å®è·µ" class="headerlink" title="Unityçš„é˜´å½±ä¸å®è·µ"></a>Unityçš„é˜´å½±ä¸å®è·µ</h2><p>åœ¨å®æ—¶æ¸²æŸ“ä¸­ï¼Œä¼šä½¿ç”¨<strong>Shadow Map</strong>æŠ€æœ¯ï¼Œå®ƒä¼šå§æ‘„åƒå¤´ä½ç½®æ”¾åœ¨ä¸å…‰æºé‡åˆçš„ä½ç½®ä¸Šï¼Œè¿™æ ·åœºæ™¯ä¸­è¯¥å…‰æºçš„é˜´å½±åŒºåŸŸå°±æ˜¯æ‘„åƒå¤´çœ‹ä¸åˆ°çš„åœ°æ–¹ã€‚</p>
<p>åœ¨å‰å‘æ¸²æŸ“è·¯å¾„ä¸­ï¼Œå¦‚æœå¹³è¡Œå…‰æ‰“å¼€äº†é˜´å½±ï¼ŒUnityä¼šè®¡ç®—è¯¥å…‰æºçš„é˜´å½±æ˜ å°„çº¹ç†ã€‚å®ƒæœ¬èº«ä¹Ÿæ˜¯ä¸€å¼ æ·±åº¦å›¾ï¼Œè®°å½•äº†ä»è¯¥å…‰æºçš„ä½ç½®å‡ºå‘ã€èƒ½çœ‹åˆ°çš„åœºæ™¯ä¸­è·ç¦»å®ƒæœ€è¿‘çš„è¡¨é¢ä½ç½®ï¼ˆæ·±åº¦ä¿¡æ¯ï¼‰ã€‚</p>
<p>è®¡ç®—æ·±åº¦ä¿¡æ¯çš„æ–¹æ³•å¯ä»¥é€šè¿‡æŠŠæ‘„åƒå¤´æŒ‚åœ¨å…‰æºçš„ä½ç½®ï¼Œç„¶åæŒ‰æ­£å¸¸æ¸²æŸ“æµç¨‹è°ƒç”¨Base Passå’ŒAdditional Passè¿›è¡Œï¼Œä½†æ˜¯è¿™æ ·ä¼šæµªè´¹æ€§èƒ½ï¼š<strong>æˆ‘ä»¬åªè¦æ·±åº¦ä¿¡æ¯å°±è¡Œäº†ï¼Œè€Œä¸éœ€è¦å…‰æºçš„ç›¸å…³è®¡ç®—</strong>ã€‚æœ€å¥½çš„åŠæ³•æ˜¯é¢å¤–ä½¿ç”¨ä¸€ä¸ªPassæ¥è®¡ç®—ï¼Œä¹Ÿå°±æ˜¯<code>Tags&#123;&quot;LightMode&quot;=&quot;ShadowCaster&quot;&#125;</code>çš„Passã€‚Unityä¼šå…ˆæŠŠæ‘„åƒæœºæŒ‚åœ¨å…‰æºçš„ä½ç½®ï¼Œç„¶åæ‰¾åˆ°LightModeæ˜¯ShadowCasterçš„Passã€‚æ‰¾ä¸åˆ°å°±å»FallbackæŒ‡å®šçš„Shaderé‡Œç»§ç»­æ‰¾ï¼ˆæ¯”å¦‚â€œSpecularâ€ï¼‰ã€‚</p>
<p><strong>ä¼ ç»Ÿçš„é˜´å½±æ˜ å°„çº¹ç†</strong>çš„å®ç°ä¸­ï¼Œæˆ‘ä»¬å…ˆåœ¨æ­£å¸¸Passä¸­æŠŠé¡¶ç‚¹ä½ç½®å˜æ¢åˆ°å…‰æºç©ºé—´ï¼Œç„¶åä½¿ç”¨xyåˆ†é‡å¯¹é˜´å½±æ˜ å°„çº¹ç†è¿›è¡Œé‡‡æ ·ï¼Œå¾—åˆ°é˜´å½±æ˜ å°„çº¹ç†ä¸­è¯¥ä½ç½®çš„æ·±åº¦ä¿¡æ¯ã€‚å¦‚æœè¯¥æ·±åº¦å€¼å°äºè¯¥é¡¶ç‚¹çš„æ·±åº¦å€¼ï¼Œå°±è¯´æ˜è¯¥ç‚¹ä½äºé˜´å½±ä¸­ã€‚ä½†<strong>å±å¹•ç©ºé—´çš„é˜´å½±æ˜ å°„æŠ€æœ¯</strong>ä¸­ï¼ŒUnityä¼šè°ƒç”¨<code>Tags&#123;&quot;LightMode&quot;=&quot;ShadowCaster&quot;&#125;</code>çš„Passæ¥å¾—åˆ°å¯æŠ•å°„é˜´å½±çš„å…‰æºé˜´å½±æ˜ å°„çº¹ç†å’Œæ‘„åƒæœºçš„æ·±åº¦çº¹ç†ã€‚ç„¶åæ ¹æ®ä¸Šè¿°å¾—åˆ°å±å¹•ç©ºé—´çš„é˜´å½±å›¾ã€‚å¦‚æœæ‘„åƒæœºçš„æ·±åº¦å›¾ä¸­è¡¨é¢æ·±åº¦å¤§äºè½¬æ¢åˆ°é˜´å½±æ˜ å°„çº¹ç†çš„æ·±åº¦å€¼ï¼Œè¯´æ˜è¯¥è¡¨é¢è™½ç„¶å¯è§ï¼Œä½†æ˜¯åœ¨è¯¥å…‰æºçš„é˜´å½±ä¸­ã€‚è¿™æ ·é˜´å½±å›¾å°±åŒ…å«äº†å±å¹•ç©ºé—´ä¸­æ‰€æœ‰æœ‰é˜´å½±çš„åŒºåŸŸã€‚å¦‚æœæˆ‘ä»¬æƒ³è¦ä¸€ä¸ªç‰©ä½“æ¥å—æ¥è‡ªå…¶ä»–ç‰©ä½“çš„é˜´å½±ï¼Œé¦–å…ˆéœ€è¦æŠŠè¡¨é¢åæ ‡ä»æ¨¡å‹ç©ºé—´å˜æ¢åˆ°å±å¹•ç©ºé—´ï¼Œç„¶åä½¿ç”¨è¯¥åæ ‡å¯¹é˜´å½±å›¾è¿›è¡Œé‡‡æ ·å³å¯ã€‚</p>
<p>ç»¼ä¸Šï¼Œä¸€ä¸ªç‰©ä½“æ¥æ”¶å…¶å®ƒç‰©ä½“çš„é˜´å½±å’Œä¸€ä¸ªç‰©ä½“å‘å…¶å®ƒç‰©ä½“æŠ•å°„é˜´å½±æ˜¯ä¸¤ä¸ªè¿‡ç¨‹ï¼š</p>
<p><strong>ä¸€ä¸ªç‰©ä½“æ¥å—å…¶å®ƒç‰©ä½“çš„é˜´å½±</strong>ï¼šå¿…é¡»åœ¨Shaderé‡Œå¯¹é˜´å½±æ˜ å°„çº¹ç†è¿›è¡Œé‡‡æ ·ï¼ŒæŠŠé‡‡æ ·ç»“æœå’Œæœ€åå…‰ç…§ç»“æœç›¸ä¹˜ã€‚</p>
<p><strong>ä¸€ä¸ªç‰©ä½“å‘å…¶å®ƒç‰©ä½“æŠ•å°„é˜´å½±</strong>ï¼šæŠŠè¯¥ç‰©ä½“åŠ å…¥åˆ°å…‰æºçš„é˜´å½±æ˜ å°„çº¹ç†è®¡ç®—ä¸­ï¼Œä»è€Œè®©å…¶å®ƒç‰©ä½“åœ¨å¯¹é˜´å½±æ˜ å°„çº¹ç†é‡‡æ ·æ—¶å¾—åˆ°è¯¥ç‰©ä½“çš„ç›¸å…³ä¿¡æ¯ã€‚è¿™ä¸ªè¿‡ç¨‹ç”±â€œShadowCasterâ€çš„Passå®ç°ã€‚</p>
<h3 id="ä¸é€æ˜ç‰©ä½“çš„é˜´å½±å®è·µ"><a href="#ä¸é€æ˜ç‰©ä½“çš„é˜´å½±å®è·µ" class="headerlink" title="ä¸é€æ˜ç‰©ä½“çš„é˜´å½±å®è·µ"></a>ä¸é€æ˜ç‰©ä½“çš„é˜´å½±å®è·µ</h3><h4 id="è®©ç‰©ä½“æŠ•å°„é˜´å½±"><a href="#è®©ç‰©ä½“æŠ•å°„é˜´å½±" class="headerlink" title="è®©ç‰©ä½“æŠ•å°„é˜´å½±"></a>è®©ç‰©ä½“æŠ•å°„é˜´å½±</h4><p>åœ¨ç‰©ä½“çš„Mesh Renderç»„ä»¶å†…ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è®¾ç½®<strong>Cast Shadows</strong>ï¼ˆæ˜¯å¦æŠ•å°„ï¼‰å’Œ<strong>Receive Shadows</strong>ï¼ˆæ˜¯å¦æ¥æ”¶ï¼‰å±æ€§é€‰æ‹©è®©å®ƒæ˜¯å¦æŠ•å°„æˆ–æ¥æ”¶é˜´å½±ã€‚å…¶ä¸­<strong>Cast Shadows</strong>é»˜è®¤æƒ…å†µä¸‹ä¼šå‰”é™¤ç‰©ä½“èƒŒé¢è®¡ç®—å…‰æºçš„é˜´å½±æ˜ å°„çº¹ç†ã€‚ä½†è®¾ç½®ä¸º<strong>Two Sided</strong>æ—¶å¯ä»¥å…è®¸å¯¹ç‰©ä½“æ‰€æœ‰é¢è®¡ç®—é˜´å½±ä¿¡æ¯ã€‚</p>
<p>æŠ•å°„é˜´å½±å¯ä»¥ç›´æ¥ä½¿ç”¨ä¸Šé¢çš„å‰å‘æ¸²æŸ“è·¯å¾„Shaderï¼Œæ¥æ”¶é˜´å½±çš„ä»£ç åœ¨FallBackå†…ï¼Œæ‰€ä»¥ä¸éœ€è¦æˆ‘ä»¬å†™ï¼ŒUnityä¼šè‡ªè¡Œåœ¨FallBackæ‰¾åˆ°ã€‚</p>
<h4 id="è®©ç‰©ä½“æ¥æ”¶é˜´å½±"><a href="#è®©ç‰©ä½“æ¥æ”¶é˜´å½±" class="headerlink" title="è®©ç‰©ä½“æ¥æ”¶é˜´å½±"></a>è®©ç‰©ä½“æ¥æ”¶é˜´å½±</h4><p>ä½†æ˜¯ç”±äºä¸Šè¿°ä»£ç æ²¡æœ‰å¯¹é˜´å½±è¿›è¡Œä»»ä½•å¤„ç†ï¼Œå› æ­¤ä¸ä¼šæ˜¾ç¤ºåˆ«çš„åœ°æ–¹æŠ•å°„æ¥çš„é˜´å½±ã€‚å› æ­¤ä¿®æ”¹ä¸Šè¿°ä»£ç å¦‚ä¸‹ï¼š</p>
<pre class="language-Shader" data-language="Shader"><code class="language-Shader">Shader &quot;Custom&#x2F;Shadow&quot;
&#123;
    Properties
    &#123;
        _Diffuse (&quot;Diffuse&quot;,Color)&#x3D;(1,1,1,1)
        _Specular (&quot;Specular&quot;,Color)&#x3D;(1,1,1,1)
        _Gloss (&quot;Gloss&quot;, Range(8.0,256))&#x3D;20
        _Atten (&quot;Atten&quot;,Range(0,256))&#x3D;1.0
    &#125;
    SubShader
    &#123;
        Tags &#123; &quot;RenderType&quot;&#x3D;&quot;Opaque&quot; &#125;
        &#x2F;&#x2F;Base Pass
        Pass&#123;
            Tags &#123;&quot;LightMode&quot;&#x3D;&quot;ForwardBase&quot;&#125;
            CGPROGRAM

            #pragma multi_compile_fwdbase

            #pragma vertex vert
            #pragma fragment frag

            #include &quot;Lighting.cginc&quot;
            #include &quot;AutoLight.cginc&quot;
            &#x2F;&#x2F;è®¡ç®—é˜´å½±çš„å®åœ¨è¿™ä¸ªæ–‡ä»¶å†…

            fixed4 _Diffuse;
            fixed4 _Specular;
            float _Gloss;
            fixed _Atten;

            struct a2v
            &#123;
                float4 vertex:POSITION;
                float3 normal:NORMAL;
            &#125;;

            struct v2f
            &#123;
                float4 pos:SV_POSITION;
                float3 worldNormal:TEXCOORD0;
                float3 worldPos:TEXCOORD1;
                SHADOW_COORDS(2)
                &#x2F;&#x2F;å£°æ˜ä¸€ä¸ªç”¨äºå¯¹é˜´å½±çº¹ç†é‡‡æ ·çš„åæ ‡ï¼ˆæ‹¬å·å†…æ—¶ä¸‹ä¸€ä¸ªå¯ç”¨çš„æ’å€¼å¯„å­˜å™¨çš„ç´¢å¼•å€¼ï¼‰
            &#125;;

            v2f vert(a2v v)
            &#123;
                v2f o;
                o.pos&#x3D;UnityObjectToClipPos(v.vertex);
                o.worldNormal &#x3D; UnityObjectToWorldNormal(v.normal);
                o.worldPos&#x3D;mul(unity_ObjectToWorld,v.vertex).xyz;
                TRANSFER_SHADOW(o);
                &#x2F;&#x2F;è®¡ç®—ä¸Šä¸€æ­¥å£°æ˜çš„é˜´å½±çº¹ç†åæ ‡
                return o;
            &#125;

            fixed4 frag(v2f i):SV_Target&#123;
                fixed3 ambient&#x3D;UNITY_LIGHTMODEL_AMBIENT.xyz;
                fixed3 worldNormal&#x3D;normalize(i.worldNormal);
                fixed3 worldLightDir&#x3D;normalize(_WorldSpaceLightPos0.xyz);
                fixed3 diffuse&#x3D;_LightColor0.rgb*_Diffuse.rgb*saturate(dot(worldNormal,worldLightDir));
                fixed3 viewDir&#x3D;normalize(_WorldSpaceCameraPos.xyz-i.worldPos.xyz);
                fixed3 halfDir&#x3D;normalize(worldLightDir+viewDir);
                fixed3 specular&#x3D;_LightColor0.rgb*_Specular.rgb*pow(max(0,dot(worldNormal,halfDir)),_Gloss);
                fixed shadow&#x3D;SHADOW_ATTENUATION(i);
                &#x2F;&#x2F;è®¡ç®—é˜´å½±å€¼
                return fixed4(ambient+(diffuse+specular)*_Atten,1.0);
            &#125;
            ENDCG
            &#125;
        Pass&#123;
            Tags &#123;&quot;LightMode&quot;&#x3D;&quot;ForwardAdd&quot;&#125;
            Blend One One
            CGPROGRAM
            #pragma multi_compile_fwdadd
            #pragma vertex vert
            #pragma fragment frag

            #include &quot;Lighting.cginc&quot;
            #include &quot;AutoLight.cginc&quot;

            fixed4 _Diffuse;
            fixed4 _Specular;
            float _Gloss;
            fixed _Atten;

            struct a2v
            &#123;
                float4 vertex:POSITION;
                float3 normal:NORMAL;
            &#125;;

            struct v2f
            &#123;
                float4 pos:SV_POSITION;
                float3 worldNormal:TEXCOORD0;
                float3 worldPos:TEXCOORD1;
            &#125;;

            v2f vert(a2v v)
            &#123;
                v2f o;
                o.pos&#x3D;UnityObjectToClipPos(v.vertex);
                o.worldNormal &#x3D; UnityObjectToWorldNormal(v.normal);
                o.worldPos&#x3D;mul(unity_ObjectToWorld,v.vertex).xyz;
                return o;
            &#125;

            fixed4 frag(v2f i):SV_Target&#123;
                fixed3 worldNormal&#x3D;normalize(i.worldNormal);
                #ifdef USING_DIRECTIONAL_LIGHT
                    fixed3 worldLightDir &#x3D; normalize(_WorldSpaceLightPos0.xyz);
                #else
                    fixed3 worldLightDir &#x3D; normalize(_WorldSpaceLightPos0.xyz - i.worldPos.xyz);
                #endif
                fixed3 diffuse&#x3D;_LightColor0.rgb*_Diffuse.rgb*saturate(dot(worldNormal,worldLightDir));
                fixed3 viewDir&#x3D;normalize(_WorldSpaceCameraPos.xyz-i.worldPos.xyz);
                fixed3 halfDir&#x3D;normalize(worldLightDir+viewDir);
                fixed3 specular&#x3D;_LightColor0.rgb*_Specular.rgb*pow(max(0,dot(worldNormal,halfDir)),_Gloss);
                #ifdef USING_DIRECTIONAL_LIGHT
                    fixed atten &#x3D; 1.0;
                #else
                    #if defined (POINT)
                        float3 lightCoord &#x3D; mul(unity_WorldToLight, float4(i.worldPos, 1)).xyz;
                        fixed atten &#x3D; tex2D(_LightTexture0, dot(lightCoord, lightCoord).rr).UNITY_ATTEN_CHANNEL;
                    #elif defined (SPOT)
                        float4 lightCoord &#x3D; mul(unity_WorldToLight, float4(i.worldPos, 1));
                        fixed atten &#x3D; (lightCoord.z &gt; 0) * tex2D(_LightTexture0, lightCoord.xy &#x2F; lightCoord.w + 0.5).w * tex2D(_LightTextureB0, dot(lightCoord, lightCoord).rr).UNITY_ATTEN_CHANNEL;
                    #else
                        fixed atten &#x3D; 1.0;
                    #endif
                #endif
                return fixed4((diffuse+specular)*_Atten,1.0);
            &#125;
            ENDCG
            &#125;
    &#125;
    FallBack &quot;Specular&quot;
&#125;</code></pre>

<p><strong>SHADOW_COORDS()</strong>:å£°æ˜ä¸€ä¸ªç”¨äºå¯¹é˜´å½±çº¹ç†é‡‡æ ·çš„åæ ‡ï¼Œå‚æ•°éœ€è¦æ˜¯ä¸‹ä¸€ä¸ªå¯ç”¨çš„æ’å€¼å¯„å­˜å™¨çš„ç´¢å¼•å€¼</p>
<p>**TRANSFER_SHADOW()**ï¼šç”¨äºåœ¨é¡¶ç‚¹ç€è‰²å™¨ä¸­è®¡ç®—ä¸Šä¸€æ­¥ä¸­å£°æ˜çš„é˜´å½±çº¹ç†åæ ‡</p>
<p>**SHADOW_ATTENUATION()**ï¼šè®¡ç®—é˜´å½±å€¼</p>
<p>ä»¥ä¸Šå®çš„è®¡ç®—éƒ½ä¼šä½¿ç”¨ä¸Šä¸‹æ–‡çš„å˜é‡ï¼Œï¼ˆæ¯”å¦‚v.vertex,a.posç­‰ç­‰ï¼‰å› æ­¤æˆ‘ä»¬è‡ªå®šä¹‰çš„å˜é‡ä¸€å®šè¦å’Œè¿™äº›å®ä¸­ä½¿ç”¨çš„å˜é‡åç›¸åŒ¹é…ï¼ˆa2vé¡¶ç‚¹åæ ‡å˜é‡ä¸€å®šæ˜¯vertexï¼Œç»“æ„ä½“a2vä¸€å®šæ˜¯vï¼‰</p>
<p>æ¥ä¸‹æ¥åªéœ€è¦æŠŠshadowå’Œæ¼«åå°„ä»¥åŠé«˜å…‰åå°„çš„é¢œè‰²ç›¸ä¹˜ã€‚</p>
<h3 id="ç»Ÿä¸€ç®¡ç†å…‰ç…§è¡°å‡å’Œé˜´å½±"><a href="#ç»Ÿä¸€ç®¡ç†å…‰ç…§è¡°å‡å’Œé˜´å½±" class="headerlink" title="ç»Ÿä¸€ç®¡ç†å…‰ç…§è¡°å‡å’Œé˜´å½±"></a>ç»Ÿä¸€ç®¡ç†å…‰ç…§è¡°å‡å’Œé˜´å½±</h3><p>å®é™…ä¸Šï¼Œå…‰ç…§è¡°å‡å’Œé˜´å½±å¯¹ç‰©ä½“æœ€ç»ˆçš„æ¸²æŸ“ç»“æœçš„å½±å“æœ¬è´¨ä¸Šæ˜¯ç›¸åŒçš„â€”â€”æˆ‘ä»¬éƒ½æ˜¯æŠŠå…‰ç…§è¡°å‡å› å­å’Œé˜´å½±å€¼åŠå…‰ç…§ç»“æœç›¸ä¹˜å¾—åˆ°çš„æ¸²æŸ“ç»“æœã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨å†…ç½®çš„<strong>UNITY_LIGHT_ATTENUATION</strong>æ¥å®ç°ã€‚</p>
<pre class="language-Shader" data-language="Shader"><code class="language-Shader">Shader &quot;Custom&#x2F;AttenuationAndShadowUseBuildInFunctions&quot; 
&#123; 
Properties 
&#123; 
_Diffuse (&quot;Diffuse&quot;,Color)&#x3D;(1,1,1,1) 
_Specular (&quot;Specular&quot;,Color)&#x3D;(1,1,1,1) 
_Gloss (&quot;Gloss&quot;, Range(8.0,256))&#x3D;20 
&#125; 
SubShader 
&#123; 
Tags &#123; &quot;RenderType&quot;&#x3D;&quot;Opaque&quot; &#125; 
&#x2F;&#x2F;Base Pass 
Pass&#123; 
Tags &#123;&quot;LightMode&quot;&#x3D;&quot;ForwardBase&quot;&#125; 
CGPROGRAM 
#pragma multi_compile_fwdbase 
#pragma vertex vert 
#pragma fragment frag 
#include &quot;Lighting.cginc&quot; 
#include &quot;AutoLight.cginc&quot; 
fixed4 _Diffuse; 
fixed4 _Specular; 
float _Gloss; 
struct a2v 
&#123; 
float4 vertex:POSITION; 
float3 normal:NORMAL; 
&#125;; 
struct v2f 
&#123; 
float4 pos:SV_POSITION; 
float3 worldNormal:TEXCOORD0; 
float3 worldPos:TEXCOORD1; 
SHADOW_COORDS(2) 
&#125;; 
v2f vert(a2v v) 
&#123; 
v2f o; 
o.pos&#x3D;UnityObjectToClipPos(v.vertex); 
o.worldNormal &#x3D; UnityObjectToWorldNormal(v.normal); 
o.worldPos&#x3D;mul(unity_ObjectToWorld,v.vertex).xyz; 
TRANSFER_SHADOW(o); 
return o; 
&#125; 
fixed4 frag(v2f i):SV_Target&#123; 
fixed3 ambient&#x3D;UNITY_LIGHTMODEL_AMBIENT.xyz; 
fixed3 worldNormal &#x3D; normalize(i.worldNormal); 
fixed3 worldLightDir &#x3D; normalize(UnityWorldSpaceLightDir(i.worldPos)); 
fixed3 diffuse &#x3D; _LightColor0.rgb * _Diffuse.rgb * max(0, dot(worldNormal, worldLightDir)); 
fixed3 viewDir &#x3D; normalize(UnityWorldSpaceViewDir(i.worldPos)); 
fixed3 halfDir &#x3D; normalize(worldLightDir + viewDir); 
fixed3 specular &#x3D; _LightColor0.rgb * _Specular.rgb * pow(max(0, dot(worldNormal, halfDir)), _Gloss); 
UNITY_LIGHT_ATTENUATION(atten, i, i.worldPos); 
return fixed4((diffuse + specular) * atten, 1.0); 
&#125; 
ENDCG 
&#125; 
Pass&#123; 
Tags &#123;&quot;LightMode&quot;&#x3D;&quot;ForwardAdd&quot;&#125; 
Blend One One 
CGPROGRAM 
#pragma multi_compile_fwdadd 
#pragma vertex vert 
#pragma fragment frag 
#include &quot;Lighting.cginc&quot; 
#include &quot;AutoLight.cginc&quot; 
fixed4 _Diffuse; 
fixed4 _Specular; 
float _Gloss; 
struct a2v 
&#123; 
float4 vertex:POSITION; 
float3 normal:NORMAL; 
&#125;; 
struct v2f 
&#123; 
float4 pos:SV_POSITION; 
float3 worldNormal:TEXCOORD0; 
float3 worldPos:TEXCOORD1; 
SHADOW_COORDS(2) 
&#125;; 
v2f vert(a2v v) 
&#123; 
v2f o; 
o.pos&#x3D;UnityObjectToClipPos(v.vertex); 
o.worldNormal &#x3D; UnityObjectToWorldNormal(v.normal); 
o.worldPos&#x3D;mul(unity_ObjectToWorld,v.vertex).xyz; 
TRANSFER_SHADOW(o); 
return o; 
&#125; 
fixed4 frag(v2f i):SV_Target&#123; 
fixed3 worldNormal&#x3D;normalize(i.worldNormal); 
fixed3 worldLightDir &#x3D; normalize(UnityWorldSpaceLightDir(i.worldPos)); 
fixed3 diffuse &#x3D; _LightColor0.rgb * _Diffuse.rgb * max(0, dot(worldNormal, worldLightDir)); 
fixed3 viewDir &#x3D; normalize(UnityWorldSpaceViewDir(i.worldPos)); 
fixed3 halfDir &#x3D; normalize(worldLightDir + viewDir); 
fixed3 specular &#x3D; _LightColor0.rgb * _Specular.rgb * pow(max(0, dot(worldNormal, halfDir)), _Gloss); 
&#x2F;&#x2F; UNITY_LIGHT_ATTENUATION not only compute attenuation, but also shadow infos 
UNITY_LIGHT_ATTENUATION(atten, i, i.worldPos); 
return fixed4((diffuse + specular) * atten, 1.0); 
&#125; 
ENDCG 
&#125; 
&#125; 
FallBack &quot;Specular&quot; 
&#125;</code></pre>

<p>**UNITY_LIGHT_ATTENUATION(atten,i,i.worldPos)**ï¼šå£°æ˜ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå¹¶å°†å…‰ç…§è¡°å‡å’Œé˜´å½±å€¼ç›¸ä¹˜åçš„ç»“æœå­˜å‚¨åˆ°ç¬¬ä¸€ä¸ªå‚æ•°ä¸­ã€‚</p>
<p>å…¶ä¸­ç¬¬äºŒä¸ªå‚æ•°æ˜¯ç»“æ„ä½“v2fï¼Œè¿™ä¸ªå‚æ•°ä¼šä¼ é€’ç»™<strong>SHADOW_ATTENUATION</strong>è®¡ç®—é˜´å½±å€¼ã€‚</p>
<p>ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯ä¸–ç•Œç©ºé—´çš„åæ ‡ï¼Œç”¨äºè®¡ç®—å…‰æºç©ºé—´ä¸‹çš„åæ ‡ï¼Œå†å¯¹å…‰ç…§è¡°å‡çº¹ç†é‡‡æ ·ã€‚</p>
<p><strong>UNITY_LIGHT_ATTENUATION</strong>çš„ä½¿ç”¨ä½¿å¾—æˆ‘ä»¬ä¸éœ€è¦åœ¨Base Passé‡Œå•ç‹¬å¤„ç†é˜´å½±ï¼Œä¹Ÿä¸éœ€è¦åœ¨Additional Passå†…å•ç‹¬å¤„ç†å…‰ç…§è¡°å‡ã€‚ä¸¤ä¸ªPassçš„ä»£ç å¾—ä»¥ç»Ÿä¸€äº†ã€‚</p>
<h3 id="é€æ˜åº¦ç‰©ä½“çš„é˜´å½±"><a href="#é€æ˜åº¦ç‰©ä½“çš„é˜´å½±" class="headerlink" title="é€æ˜åº¦ç‰©ä½“çš„é˜´å½±"></a>é€æ˜åº¦ç‰©ä½“çš„é˜´å½±</h3><h4 id="é€æ˜åº¦æµ‹è¯•å®è·µ"><a href="#é€æ˜åº¦æµ‹è¯•å®è·µ" class="headerlink" title="é€æ˜åº¦æµ‹è¯•å®è·µ"></a>é€æ˜åº¦æµ‹è¯•å®è·µ</h4><p>å¯¹äºä¸é€æ˜ç‰©ä½“è€Œè¨€ï¼Œä½¿ç”¨FallBacké‡Œçš„<strong>VertexLit</strong>å°±å¯ä»¥å®Œç¾å¾—åˆ°æ­£ç¡®çš„é˜´å½±ï¼Œä½†å¯¹äºé€æ˜ç‰©ä½“åˆ™ä¸ç„¶ã€‚ä¹‹å‰æåˆ°é€æ˜ç‰©ä½“çš„æ–¹æ³•æœ‰é€æ˜åº¦æµ‹è¯•å’Œé€æ˜åº¦æ··åˆï¼Œè¿™é‡Œä½¿ç”¨é€æ˜åº¦æµ‹è¯•ï¼Œåœ¨å…¶åŸºç¡€ä¸Šå®Œæˆé˜´å½±çš„å®ç°ï¼š</p>
<pre class="language-Shader" data-language="Shader"><code class="language-Shader">hader &quot;Unity Shader Book&#x2F;Chapter 9&#x2F;AlphaTestWithShadow&quot;
&#123;
    Properties&#123;
    _Color(&quot;Main Tint&quot;,Color)&#x3D;(1,1,1,1)
    _MainTex(&quot;Main Tex&quot;,2D)&#x3D;&quot;white&quot;&#123;&#125;
    _Cutoff(&quot;Alpha Cutoff&quot;,Range(0,1))&#x3D;0.5
&#125;
SubShader&#123;
    Tags&#123;&quot;Queue&quot;&#x3D;&quot;AlphaTest&quot; &quot;IgnoreProjector&quot;&#x3D;&quot;True&quot; &quot;RenderType&quot;&#x3D;&quot;TransparentCutout&quot;&#125;

    Pass&#123;
        Tags&#123;&quot;LightMode&quot;&#x3D;&quot;ForwardBase&quot;&#125;

        Cull Off

        CGPROGRAM

        #pragma vertex vert
        #pragma fragment frag

        #include &quot;Lighting.cginc&quot;
        #include &quot;AutoLight.cginc&quot;

        fixed4 _Color;
        sampler2D _MainTex;
        float4 _MainTex_ST;
        fixed _Cutoff;

        struct a2v&#123;
            float4 vertex:POSITION;
            float3 normal:NORMAL;
            float4 texcoord:TEXCOORD0;
        &#125;;

        struct v2f&#123;
            float4 pos:SV_POSITION;
            float3 worldNormal:TEXCOORD0;
            float3 worldPos:TEXCOORD1;
            float2 uv:TEXCOORD2;
            SHADOW_COORDS(3)
        &#125;;

        v2f vert(a2v v)&#123;
            v2f o;
            o.pos&#x3D;UnityObjectToClipPos(v.vertex);
            o.worldNormal&#x3D;UnityObjectToWorldNormal(v.normal);
            o.worldPos&#x3D;mul(unity_ObjectToWorld,v.vertex).xyz;
            o.uv&#x3D;TRANSFORM_TEX(v.texcoord,_MainTex);
            TRANSFER_SHADOW(o);
            return o;
        &#125;

        fixed4 frag(v2f i):SV_TARGET&#123;
            fixed3 worldNormal&#x3D;normalize(i.worldNormal);
            fixed3 worldLightDir&#x3D;normalize(UnityWorldSpaceLightDir(i.worldPos));
            fixed4 texColor&#x3D;tex2D(_MainTex,i.uv);
            clip(texColor.a-_Cutoff);
            fixed3 albedo&#x3D;texColor.rgb*_Color.rgb;
            fixed3 ambient&#x3D;UNITY_LIGHTMODEL_AMBIENT.xyz*albedo;
            fixed3 diffuse&#x3D;_LightColor0.rgb*albedo*max(0,dot(worldNormal,worldLightDir));
            UNITY_LIGHT_ATTENUATION(atten,i,i.worldPos);
            return fixed4(ambient+diffuse*atten,1.0);
        &#125;
        ENDCG
    &#125;
&#125;
        Fallback &quot;Transparent&#x2F;Cutout&#x2F;VertexLit&quot;
&#125;
</code></pre>

<p>å¦‚æœæˆ‘ä»¬åœ¨Fallbackå†…ç›´æ¥ä½¿ç”¨<strong>VertexLit</strong>çš„è¯ï¼Œé˜´å½±ç»“æœå¯èƒ½ä¸æ­£ç¡®ï¼ˆå·²ç»è¢«å‰”é™¤ä¸”ä¸ä¼šæ˜¾ç¤ºçš„ç‰‡å…ƒä¾æ—§å‡ºç°äº†é˜´å½±ï¼‰ï¼Œå…¶åŸå› æ˜¯<strong>VertexLit</strong>å†…çš„Passæ²¡æœ‰è¿›è¡Œä»»ä½•é€æ˜åº¦æµ‹è¯•çš„è®¡ç®—ã€‚æˆ‘ä»¬å¯ä»¥è‡ªå·±å†™ä¸€ä¸ªï¼Œä¹Ÿå¯ä»¥æŠŠFallbackæ”¹æˆ<strong>Transparent/Cutout/VertexLit</strong>ã€‚è¿™ä¸ªFallbackè¦æ±‚æˆ‘ä»¬æä¾›ä¸€ä¸ªåå­—å«åš**_Cutoff**çš„å±æ€§ä½œä¸ºé€æ˜åº¦æµ‹è¯•çš„é˜ˆå€¼ã€‚</p>
<h4 id="é€æ˜åº¦æ··åˆå®è·µ"><a href="#é€æ˜åº¦æ··åˆå®è·µ" class="headerlink" title="é€æ˜åº¦æ··åˆå®è·µ"></a>é€æ˜åº¦æ··åˆå®è·µ</h4><p>ç›¸æ¯”äºé€æ˜åº¦æµ‹è¯•ï¼Œé€æ˜åº¦æ··åˆçš„é˜´å½±å®ç°æ›´ä¸ºå¤æ‚ã€‚å› ä¸ºæ‰€æœ‰å†…ç½®UnityShaderéƒ½æ²¡æœ‰åŒ…å«é˜´å½±æŠ•å°„çš„Passã€‚è¿™æ„å‘³ç€åŠé€æ˜ç‰©ä½“ä¸ä¼šå¯¹å…¶å®ƒç‰©ä½“æŠ•å°„é˜´å½±ï¼Œæœ¬èº«ä¹Ÿä¸ä¼šæ¥æ”¶é˜´å½±ã€‚å¤æ‚çš„é—®é¢˜åœ¨äºé€æ˜åº¦æ··åˆå…³é—­äº†æ·±åº¦å†™å…¥ï¼Œä»è€Œå½±å“äº†é˜´å½±çš„ç”Ÿæˆã€‚æ€»ä½“æ¥è¯´ï¼Œè¦äº§ç”Ÿæ­£ç¡®çš„é˜´å½±ï¼Œå°±è¦åœ¨æ¯ä¸ªå…‰æºç©ºé—´ä¸‹ä»ç„¶ä¸¥æ ¼æŒ‰ç…§ä»åå¾€å‰çš„é¡ºåºè¿›è¡Œæ¸²æŸ“ï¼Œè¿™ä¼šä½¿å¾—é˜´å½±å¤„ç†å˜å¾—å¾ˆå¤æ‚ã€‚å› æ­¤ï¼ŒåŠé€æ˜ç‰©ä½“ä¸ä¼šæœ‰é˜´å½±ç”Ÿæˆã€‚</p>
<pre class="language-Shader" data-language="Shader"><code class="language-Shader">Shader &quot;Custom&#x2F;AlphaBlendWithShadow&quot;
&#123;
    Properties
    &#123;
        _Color (&quot;Main Tint&quot;, Color) &#x3D; (1,1,1,1)
        _MainTex (&quot;Main Tex&quot;, 2D) &#x3D; &quot;white&quot; &#123;&#125;
        _AlphaScale(&quot;Alpha Scale&quot;,Range(0,1))&#x3D;1
    &#125;
    SubShader&#123;
    Tags&#123;&quot;Queue&quot;&#x3D;&quot;Transparent&quot; &quot;IgnoreProjector&quot;&#x3D;&quot;True&quot; &quot;RenderType&quot;&#x3D;&quot;Transparent&quot;&#125;

    Pass&#123;
        Tags&#123;&quot;LightMode&quot;&#x3D;&quot;ForwardBase&quot;&#125;

        Cull Front
        ZWrite Off
        Blend SrcAlpha OneMinusSrcAlpha
        CGPROGRAM

        #pragma vertex vert
        #pragma fragment frag

        #include &quot;Lighting.cginc&quot;
        #include &quot;AutoLight.cginc&quot;

        fixed4 _Color;
        sampler2D _MainTex;
        float4 _MainTex_ST;
        fixed _AlphaScale;

        struct a2v&#123;
            float4 vertex:POSITION;
            float3 normal:NORMAL;
            float4 texcoord:TEXCOORD0;
        &#125;;

        struct v2f&#123;
            float4 pos:SV_POSITION;
            float3 worldNormal:TEXCOORD0;
            float3 worldPos:TEXCOORD1;
            float2 uv:TEXCOORD2;
            SHADOW_COORDS(3)
        &#125;;

        v2f vert(a2v v)&#123;
            v2f o;
            o.pos&#x3D;UnityObjectToClipPos(v.vertex);
            o.worldNormal&#x3D;UnityObjectToWorldNormal(v.normal);
            o.worldPos&#x3D;mul(unity_ObjectToWorld,v.vertex).xyz;
            o.uv&#x3D;TRANSFORM_TEX(v.texcoord,_MainTex);
            TRANSFER_SHADOW(o);
            return o;
        &#125;

        fixed4 frag(v2f i):SV_TARGET&#123;
            fixed3 worldNormal&#x3D;normalize(i.worldNormal);
            fixed3 worldLightDir&#x3D;normalize(UnityWorldSpaceLightDir(i.worldPos));
            fixed4 texColor&#x3D;tex2D(_MainTex,i.uv);
            fixed3 albedo&#x3D;texColor.rgb*_Color.rgb;
            fixed3 ambient&#x3D;UNITY_LIGHTMODEL_AMBIENT.xyz*albedo;
            fixed3 diffuse&#x3D;_LightColor0.rgb*albedo*max(0,dot(worldNormal,worldLightDir));
            UNITY_LIGHT_ATTENUATION(atten,i,i.worldPos);
            return fixed4(ambient+diffuse,texColor.a*_AlphaScale);
        &#125;
        ENDCG
    &#125;
    Pass&#123;
        Tags&#123;&quot;LightMode&quot;&#x3D;&quot;ForwardBase&quot;&#125;

        Cull Back
        ZWrite Off
        Blend SrcAlpha OneMinusSrcAlpha
        CGPROGRAM

        #pragma vertex vert
        #pragma fragment frag

        #include &quot;Lighting.cginc&quot;
        #include &quot;AutoLight.cginc&quot;

        fixed4 _Color;
        sampler2D _MainTex;
        float4 _MainTex_ST;
        fixed _AlphaScale;

        struct a2v&#123;
            float4 vertex:POSITION;
            float3 normal:NORMAL;
            float4 texcoord:TEXCOORD0;
        &#125;;

        struct v2f&#123;
            float4 pos:SV_POSITION;
            float3 worldNormal:TEXCOORD0;
            float3 worldPos:TEXCOORD1;
            float2 uv:TEXCOORD2;
            SHADOW_COORDS(3)
        &#125;;

        v2f vert(a2v v)&#123;
            v2f o;
            o.pos&#x3D;UnityObjectToClipPos(v.vertex);
            o.worldNormal&#x3D;UnityObjectToWorldNormal(v.normal);
            o.worldPos&#x3D;mul(unity_ObjectToWorld,v.vertex).xyz;
            o.uv&#x3D;TRANSFORM_TEX(v.texcoord,_MainTex);
            TRANSFER_SHADOW(o);
            return o;
        &#125;

        fixed4 frag(v2f i):SV_TARGET&#123;
            fixed3 worldNormal&#x3D;normalize(i.worldNormal);
            fixed3 worldLightDir&#x3D;normalize(UnityWorldSpaceLightDir(i.worldPos));
            fixed4 texColor&#x3D;tex2D(_MainTex,i.uv);
            fixed3 albedo&#x3D;texColor.rgb*_Color.rgb;
            fixed3 ambient&#x3D;UNITY_LIGHTMODEL_AMBIENT.xyz*albedo;
            fixed3 diffuse&#x3D;_LightColor0.rgb*albedo*max(0,dot(worldNormal,worldLightDir));
            UNITY_LIGHT_ATTENUATION(atten,i,i.worldPos);
            return fixed4(ambient+diffuse*atten,texColor.a*_AlphaScale);
        &#125;
        ENDCG
    &#125;
&#125;
        Fallback &quot;VertexLit&quot;
&#125;
</code></pre>

<p>ç„¶è€Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æŠŠFallbackè®¾ç½®ä¸º<strong>VertexLitã€DIffuse</strong>è¿™äº›ä¸é€æ˜ç‰©ä½“ä½¿ç”¨çš„Unity Shaderï¼Œå°†è¯¥ç‰©ä½“ä½œä¸ºä¸é€æ˜ç‰©ä½“ç”Ÿæˆé˜´å½±ã€‚</p>
</div><ul class="post-copyright"><li class="post-copyright-author"><strong>æœ¬æ–‡ä½œè€…ï¼š</strong>Karmotrine.</li><li class="post-copyright-link"><strong>æœ¬æ–‡é“¾æ¥ï¼š</strong><a href="https://karmotrine.fun/2022/01/16/Unity-Shader04%E2%80%94%E2%80%94%E5%A4%8D%E6%9D%82%E5%85%89%E7%85%A7/" title="Unity Shader04â€”â€”å¤æ‚å…‰ç…§">https://karmotrine.fun/2022/01/16/Unity-Shader04%E2%80%94%E2%80%94%E5%A4%8D%E6%9D%82%E5%85%89%E7%85%A7/</a></li><li class="post-copyright-license"><strong>ç‰ˆæƒå£°æ˜ï¼š</strong>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é»˜è®¤é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><svg class="icon"><use xlink:href="#icon-creative-commons-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-by-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-nc-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-sa-line"></use></svg></a> è®¸å¯åè®®ã€‚</li></ul></section></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/2022/01/16/Unity-Shader05%E2%80%94%E2%80%94%E9%AB%98%E7%BA%A7%E7%BA%B9%E7%90%86/" rel="prev" title="Unity Shader05â€”â€”é«˜çº§çº¹ç†"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-left-s-line"></use></svg><span class="post-nav-text">Unity Shader05â€”â€”é«˜çº§çº¹ç†</span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/2022/01/13/Unity-Shader03%E2%80%94%E2%80%94%E9%80%8F%E6%98%8E%E6%95%88%E6%9E%9C/" rel="next" title="Unity Shader03â€”â€”é€æ˜æ•ˆæœ"><span class="post-nav-text">Unity Shader03â€”â€”é€æ˜æ•ˆæœ</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-right-s-line"></use></svg></a></div></div></div><div class="hty-card" id="comment"><div class="comment-tooltip text-center"><span>è‹¥æ‚¨æƒ³åŠæ—¶å¾—åˆ°å›å¤æé†’ï¼Œå»ºè®®è·³è½¬ GitHub Issues è¯„è®ºã€‚</span><br><span>è‹¥æ²¡æœ‰æœ¬æ–‡ Issueï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ Comment æ¨¡ç‰ˆæ–°å»ºã€‚</span><br></div></div></main><footer class="sidebar-translate" id="footer"><div class="copyright"><span>&copy; 2021 â€“ 2022 </span><span class="with-love" id="animate"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-cloud-line"></use></svg></span><span class="author"> Karmotrine</span></div><div class="powered"><span>ç”± <a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a> é©±åŠ¨ v6.0.0</span><span class="footer-separator">|</span><span>ä¸»é¢˜ - <a rel="noopener" href="https://github.com/YunYouJun/hexo-theme-yun" target="_blank"><span>Yun</span></a> v1.7.0</span></div><div class="live-time"><span>æœ¬åšå®¢å·²èŒèŒå“’åœ°è¿è¡Œ</span><span id="display_live_time"></span><span class="moe-text">(â—'â—¡'â—)</span><script>function blog_live_time() {
  setTimeout(blog_live_time, 1000);
  const start = new Date('2022-01-07T00:00:00');
  const now = new Date();
  const timeDiff = (now.getTime() - start.getTime());
  const msPerMinute = 60 * 1000;
  const msPerHour = 60 * msPerMinute;
  const msPerDay = 24 * msPerHour;
  const passDay = Math.floor(timeDiff / msPerDay);
  const passHour = Math.floor((timeDiff % msPerDay) / 60 / 60 / 1000);
  const passMinute = Math.floor((timeDiff % msPerHour) / 60 / 1000);
  const passSecond = Math.floor((timeDiff % msPerMinute) / 1000);
  display_live_time.innerHTML = ` ${passDay} å¤© ${passHour} å°æ—¶ ${passMinute} åˆ† ${passSecond} ç§’`;
}
blog_live_time();
</script></div></footer><a class="hty-icon-button" id="back-to-top" aria-label="back-to-top" href="#"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-up-s-line"></use></svg><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#0078E7" stroke-width="2" stroke-linecap="round"></circle></svg></a><div class="aplayer no-destroy" id="aplayer" data-id="7226373375" data-server="netease" data-type="playlist" data-fixed="true" data-theme="#0078E7" data-loop="all" data-order="list" data-preload="auto" data-volume="0.7" data-mutex data-lrctype="0" data-listfolded data-listmaxheight="340px" data-storagename="metingjs"></div></div></body></html>